exports.id=127,exports.ids=[127],exports.modules={64671:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2583,23)),Promise.resolve().then(a.t.bind(a,26840,23)),Promise.resolve().then(a.t.bind(a,38771,23)),Promise.resolve().then(a.t.bind(a,13225,23)),Promise.resolve().then(a.t.bind(a,9295,23)),Promise.resolve().then(a.t.bind(a,43982,23))},19159:(e,t,a)=>{Promise.resolve().then(a.bind(a,95076))},95076:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>_});var s=a(95344),r=a(56506),n=a(8428),l=a(3729),o=a(80486),i=a(9778),d=a(89486),c=a(89895),h=a(35851),m=a(12764),u=a(12594),x=a(37121),p=a(13746),f=a(97751),b=a(71532);let g=[{href:"/",label:"Dashboard",icon:d.Z},{href:"/contacts",label:"Contacts",icon:c.Z},{href:"/chats",label:"Chats",icon:h.Z},{href:"/campaigns",label:"Campaigns",icon:m.Z},{href:"/campaigns/analytics",label:"Analytics",icon:u.Z},{href:"/templates",label:"Templates",icon:x.Z},{href:"/settings",label:"Settings",icon:p.Z}];function v(){let e=(0,n.usePathname)(),{name:t}=(0,o.t)(),{status:a}=(0,i.H)(),[d,c]=(0,l.useState)(!1),h=(0,l.useMemo)(()=>"/"===e?"/":"/"+e.split("/")[1],[e]);return(0,s.jsxs)("aside",{className:`hidden md:flex flex-col 
        ${d?"w-20":"w-64"}
        bg-[var(--surface)]/40 backdrop-blur-xl
        border-r border-[var(--border)]
        shadow-xl p-4 transition-all duration-300`,children:[s.jsx("button",{onClick:()=>c(!d),className:"absolute top-4 right-[-12px] p-1 rounded-full  bg-[var(--surface)] border border-[var(--border)] hover:bg-[var(--surface-alt)] shadow",children:d?s.jsx(f.Z,{size:18}):s.jsx(b.Z,{size:18})}),(0,s.jsxs)("div",{className:"flex flex-col items-center mb-8",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:"h-14 w-14 flex items-center justify-center rounded-2xl text-xl font-bold text-white shadow-lg bg-gradient-to-br from-emerald-400 to-blue-600",children:(e=>{if(!e)return"U";let t=e.split(" ");return 1===t.length?t[0][0].toUpperCase():(t[0][0]+t[1][0]).toUpperCase()})(t)}),s.jsx("div",{className:"absolute bottom-0 right-0 h-4 w-4 rounded-full border-2 border-[var(--surface)]",style:{backgroundColor:{online:"#22c55e",active:"#3b82f6",idle:"#d1d5db",busy:"#ef4444"}[a]}})]}),!d&&(0,s.jsxs)(s.Fragment,{children:[s.jsx("p",{className:"mt-3 text-sm font-semibold text-[var(--text)]",children:t||"User"}),s.jsx("p",{className:"text-[10px] text-[var(--text-muted)]",children:"Business Dashboard"})]})]}),s.jsx("nav",{className:"space-y-1 flex-1",children:g.map(e=>{let t=e.icon,a=h===e.href;return(0,s.jsxs)(r.default,{href:e.href,className:`flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-all
                ${a?"bg-gradient-to-r from-emerald-500 to-green-500 text-white":"text-[var(--text-muted)] hover:bg-[var(--surface-alt)] hover:text-[var(--text)]"}`,children:[s.jsx(t,{size:20}),!d&&e.label]},e.href)})}),!d&&(0,s.jsxs)("div",{className:"mt-4 pt-4 border-t border-[var(--border)] text-xs text-[var(--text-muted)]",children:["Logged in as"," ",s.jsx("span",{className:"font-medium text-[var(--text)]",children:t})]})]})}var w=a(5094),y=a(11453);let j=l.forwardRef(({checked:e=!1,onCheckedChange:t,className:a,...r},n)=>(0,s.jsxs)("button",{type:"button",role:"switch","aria-checked":e,onClick:()=>t?.(!e),className:(0,y.cn)("relative inline-flex h-5 w-9 items-center rounded-full transition-all duration-200",e?"bg-wa-accent":"bg-slate-700","border border-slate-600 hover:border-wa-accent/50","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-wa-accent","disabled:opacity-50 disabled:cursor-not-allowed",a),children:[s.jsx("span",{className:(0,y.cn)("inline-block h-4 w-4 rounded-full bg-slate-900 transform transition-all duration-200 shadow",e?"translate-x-4":"translate-x-1")}),s.jsx("input",{ref:n,...r,type:"checkbox",className:"hidden",checked:e,readOnly:!0})]}));j.displayName="Switch";var N=a(28765),k=a(14513),C=a(94287),E=a(67898);function $(){let[e,t]=(0,l.useState)(!1),[a,r]=(0,l.useState)(""),[o,i]=(0,l.useState)(!1),[d,u]=(0,l.useState)([]),[p,f]=(0,l.useState)([]),[b,g]=(0,l.useState)([]),[v,w]=(0,l.useState)([]),y=(0,n.useRouter)(),{setSelectedChat:j}=(0,E.a)();(0,l.useEffect)(()=>{let e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key.toLowerCase()&&(e.preventDefault(),t(!0)),"Escape"===e.key&&t(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,l.useEffect)(()=>{e&&t();async function t(){try{i(!0);let[e,t,a]=await Promise.all([(0,C.PZ)(),(0,C.fn)(),(0,C.e8)()]);u(e),f(t),g(a)}finally{i(!1)}}},[e]),(0,l.useEffect)(()=>{if(!a.trim()){w([]);return}let e=a.toLowerCase();w([...d.filter(t=>t.name.toLowerCase().includes(e)||t.phone_number.includes(a)).map(e=>({id:`contact-${e.id}`,label:e.name,subtitle:e.phone_number,type:"contact",phoneNumber:e.phone_number})),...p.filter(t=>t.name.toLowerCase().includes(e)).map(e=>({id:`campaign-${e.id}`,label:e.name,subtitle:`${e.status.toUpperCase()} • ${e.sent}/${e.total_contacts} sent`,type:"campaign"})),...b.filter(t=>t.name.toLowerCase().includes(e)).map(e=>({id:`template-${e.id}`,label:e.name,subtitle:`${e.category} • ${e.language}`,type:"template"}))])},[a,d,p,b]);let $=e=>{"contact"===e.type&&e.phoneNumber?(j(e.phoneNumber,e.label),y.push("/chats")):"campaign"===e.type?y.push("/campaigns"):"template"===e.type&&y.push("/templates"),t(!1),r("")};return e?s.jsx("div",{className:"fixed inset-0 z-[100] flex items-start justify-center bg-black/40 backdrop-blur-sm",children:(0,s.jsxs)("div",{className:"mt-24 w-full max-w-xl rounded-2xl bg-[var(--surface)] shadow-xl border border-[var(--border)]",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 border-b border-[var(--border)]",children:[s.jsx(N.Z,{size:16,className:"text-[var(--text-muted)]"}),s.jsx("input",{autoFocus:!0,value:a,onChange:e=>r(e.target.value),placeholder:"Search contacts, campaigns, templates...",className:"flex-1 bg-transparent text-sm text-[var(--text)] outline-none"}),s.jsx("button",{onClick:()=>t(!1),className:"p-1 hover:bg-[var(--bg)] rounded-md",children:s.jsx(k.Z,{size:17,className:"text-[var(--text-muted)]"})})]}),(0,s.jsxs)("div",{className:"max-h-80 overflow-y-auto py-2",children:[o&&s.jsx("p",{className:"text-xs text-[var(--text-muted)] px-4 py-2",children:"Loading data…"}),!o&&a&&0===v.length&&(0,s.jsxs)("p",{className:"text-xs text-[var(--text-muted)] px-4 py-2",children:["No results found for ",s.jsx("b",{children:a})]}),!o&&v.map(e=>(0,s.jsxs)("button",{onClick:()=>$(e),className:"w-full px-4 py-2 flex items-center gap-3 text-left hover:bg-[var(--bg)] transition",children:[(0,s.jsxs)("div",{className:"h-8 w-8 rounded-full flex items-center justify-center bg-gradient-to-br from-emerald-500 to-green-700 text-white",children:["contact"===e.type&&s.jsx(c.Z,{size:14}),"campaign"===e.type&&s.jsx(m.Z,{size:14}),"template"===e.type&&s.jsx(x.Z,{size:14})]}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm text-[var(--text)]",children:e.label}),e.subtitle&&s.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:e.subtitle})]}),"contact"===e.type&&(0,s.jsxs)("span",{className:"flex items-center gap-1 text-[10px] text-[var(--text-muted)]",children:[s.jsx(h.Z,{size:12})," Open chat"]})]},e.id))]})]})}):null}let P={"/":"Dashboard","/contacts":"Contacts","/chats":"Chats","/campaigns":"Campaigns","/templates":"Templates","/settings":"Settings"};function S(){let e=(0,n.useRouter)(),t=(0,n.usePathname)(),{isAuthenticated:a,logout:r}=(0,o.t)(),{darkMode:l,toggleDarkMode:d}=(0,i.H)(),c=P["/"+(t?.split("/")[1]||"")]||"Dashboard";return(0,s.jsxs)(s.Fragment,{children:[s.jsx($,{}),(0,s.jsxs)("header",{className:" sticky top-0 z-50 w-full h-14 flex items-center justify-between px-4 md:px-6 bg-[var(--surface)]/40 backdrop-blur-xl border-b border-[var(--border)] text-[var(--text)] shadow-md ",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-lg font-semibold",children:c}),s.jsx("p",{className:"text-xs text-[var(--text-muted)] hidden sm:block",children:"Migrate WhatsApp Business Dashboard"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("button",{onClick:()=>window.dispatchEvent(new KeyboardEvent("keydown",{key:"k",ctrlKey:!0})),className:" hidden sm:flex items-center gap-2  px-3 py-1.5 rounded-full border border-[var(--border)] bg-[var(--surface)]/20 hover:bg-[var(--surface-alt)] transition text-[var(--text-muted)] ",children:[s.jsx(N.Z,{size:14}),s.jsx("span",{children:"Search…"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-xs",children:[s.jsx("span",{className:"hidden sm:inline-block",children:"Dark mode"}),s.jsx(j,{checked:l,onCheckedChange:d})]}),a&&s.jsx(w.z,{size:"sm",variant:"outline",className:"border-[var(--border)] text-[var(--text)] hover:bg-[var(--surface-alt)]",onClick:()=>{r(),e.push("/login")},children:"Logout"})]})]})]})}function _({children:e}){return(0,s.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[s.jsx(v,{}),(0,s.jsxs)("div",{className:"flex-1 flex flex-col",children:[s.jsx(S,{}),s.jsx("main",{className:"flex-1 overflow-y-auto p-4 bg-[var(--background)]",children:e})]})]})}},5094:(e,t,a)=>{"use strict";a.d(t,{z:()=>i});var s=a(95344),r=a(3729),n=a(11453);let l={primary:"bg-wa-primary text-white hover:bg-emerald-700 border border-wa-primary shadow-sm",outline:"border border-slate-700 text-slate-100 hover:bg-wa-surface hover:text-white",ghost:"text-slate-100 hover:bg-wa-surface hover:text-white border border-transparent"},o={sm:"h-8 px-3 text-sm",md:"h-9 px-4 text-sm"},i=r.forwardRef(({className:e="",variant:t="primary",size:a="md",...r},i)=>s.jsx("button",{ref:i,className:(0,n.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-wa-accent focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",l[t],o[a],e),...r}));i.displayName="Button"},94287:(e,t,a)=>{"use strict";a.d(t,{BJ:()=>h,Bv:()=>l,PZ:()=>c,Vu:()=>r,a3:()=>i,aO:()=>o,e8:()=>d,fn:()=>x,ij:()=>u,pq:()=>n,u6:()=>p,wR:()=>m});let s="https://whatsapp-business-dashboard.onrender.com/api";async function r(e){let t=await fetch(`${s}/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Login failed");return t.json()}async function n(e,t){let a=await fetch(`${s}/chats/${e}/messages/${t}/deleteForMe`,{method:"DELETE"});if(!a.ok)throw Error("Failed to delete message for me");return a.json()}async function l(e,t){let a=await fetch(`${s}/chats/${e}/messages/${t}/deleteForEveryone`,{method:"DELETE"});if(!a.ok)throw Error("Failed to delete message for everyone");return a.json()}async function o(e){let t=await fetch(`${s}/chats/${e}`,{method:"DELETE"});if(!t.ok)throw Error("Failed to delete chat");return t.json()}async function i(){try{let e=await c(),t=new Set;return e.forEach(e=>{Array.isArray(e.tags)&&e.tags.forEach(e=>t.add(e))}),t.size?[...t]:["New","VIP","Lead","Returning"]}catch{return["New","VIP","Lead","Returning"]}}async function d(){let e=await fetch(`${s}/templates`);if(!e.ok)throw Error("Failed to load templates");return e.json()}async function c(){let e=await fetch(`${s}/contacts`);if(!e.ok)throw Error("Failed to load contacts");return e.json()}async function h(e){let t=await fetch(`${s}/chats/${e}/messages`);if(!t.ok){let e=await t.text();throw Error(`Failed to load chat history: ${e}`)}return t.json()}async function m(e,t){let a=await fetch(`${s}/chats/${e}/messages`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,from:"business"})});if(!a.ok){let e=await a.text();throw Error(`Failed to send message: ${e}`)}return a.json()}async function u(e,t){let a=new FormData;a.append("phone",e),a.append("file",t);let r=await fetch(`${s}/chats/upload-file`,{method:"POST",body:a});if(!r.ok){let e=await r.text();throw Error(`Failed to upload file: ${e}`)}return r.json()}async function x(){let e=await fetch(`${s}/campaigns`);if(!e.ok)throw Error("Failed to load campaigns");return e.json()}async function p(e="Today"){let t=await fetch(`${s}/analytics/dashboard?range=${e}`);if(!t.ok){let e=await t.text();throw Error(`Failed to load dashboard stats: ${e}`)}return t.json()}},11453:(e,t,a)=>{"use strict";function s(...e){return e.filter(Boolean).join(" ")}a.d(t,{cn:()=>s})},80486:(e,t,a)=>{"use strict";a.d(t,{t:()=>n});var s=a(43158),r=a(67023);let n=(0,s.Ue)()((0,r.tJ)(e=>({token:null,userId:null,name:"User",email:"user@email.com",isAuthenticated:!0,setAuth:(t,a,s,r)=>e({token:t,userId:a,name:s,email:r,isAuthenticated:!0}),updateProfile:(t,a)=>e({name:t,email:a}),logout:()=>e({token:null,userId:null,name:null,email:null,isAuthenticated:!1})}),{name:"wa-auth"}))},67898:(e,t,a)=>{"use strict";a.d(t,{a:()=>n});var s=a(43158),r=a(67023);let n=(0,s.Ue)()((0,r.tJ)((e,t)=>({selectedPhone:null,selectedName:null,chats:[{phone_number:"9876543210",name:"John Doe",last_message:"Hi, I want to know more!",last_time:"10:01 AM",unread:2},{phone_number:"9988776655",name:"Priya Sharma",last_message:"Thanks for the info!",last_time:"Yesterday",unread:0},{phone_number:"9123456780",name:"Rahul Kumar",last_message:"Sure, I’ll check.",last_time:"Monday",unread:1}],addChat:a=>{let s=t().chats;s.some(e=>e.phone_number===a.phone_number)||e({chats:[...s,a]})},setChats:t=>e({chats:t}),updateChatPreview:(t,a,s)=>e(e=>({chats:e.chats.map(r=>r.phone_number===t?{...r,last_message:a,last_time:s,unread:e.selectedPhone===t?0:r.unread+1}:r)})),updateChatName:(t,a)=>e(e=>({chats:e.chats.map(e=>e.phone_number===t?{...e,name:a}:e),selectedName:e.selectedPhone===t?a:e.selectedName})),markAsRead:t=>e(e=>({chats:e.chats.map(e=>e.phone_number===t?{...e,unread:0}:e)})),setSelectedChat:(t,a)=>{if(!t||""===t.trim()){console.error("❌ ERROR: setSelectedChat called with EMPTY phone");return}e({selectedPhone:t,selectedName:a||"Unknown"})},deleteChatByPhone:t=>e(e=>({chats:e.chats.filter(e=>e.phone_number!==t),selectedPhone:e.selectedPhone===t?null:e.selectedPhone,selectedName:e.selectedPhone===t?null:e.selectedName})),clearChat:()=>e({selectedPhone:null,selectedName:null})}),{name:"wa-chats"}))},9778:(e,t,a)=>{"use strict";a.d(t,{H:()=>n});var s=a(43158),r=a(67023);let n=(0,s.Ue)()((0,r.tJ)((e,t)=>({darkMode:!0,chatAlerts:!0,campaignUpdates:!0,systemNotifications:!1,status:"online",toggleDarkMode:()=>e({darkMode:!t().darkMode}),setDarkMode:t=>e({darkMode:t}),toggleChatAlerts:()=>e({chatAlerts:!t().chatAlerts}),toggleCampaignUpdates:()=>e({campaignUpdates:!t().campaignUpdates}),toggleSystemNotifications:()=>e({systemNotifications:!t().systemNotifications}),setStatus:t=>e({status:t})}),{name:"wa-ui"}))},62620:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h,metadata:()=>c});var s=a(25036),r=a(53640),n=a.n(r);a(5023);let l=(0,a(86843).createProxy)(String.raw`C:\Users\LENOVO\Desktop\Internship 2025\whatsapp-business-dashboard\src\app\AppShell.tsx`),{__esModule:o,$$typeof:i}=l,d=l.default,c={title:"WhatsApp Business Dashboard",description:"Migrated from vanilla JS → Next.js 14 with modern best practices"};function h({children:e}){return(0,s.jsxs)("html",{lang:"en",suppressHydrationWarning:!0,children:[s.jsx("head",{children:s.jsx("script",{dangerouslySetInnerHTML:{__html:`
              (function() {
                try {
                  const darkMode = localStorage.getItem('darkMode') === 'true';
                  if (darkMode) 
                    document.documentElement.classList.add('dark');
                  else 
                    document.documentElement.classList.remove('dark');
                } catch (e) {}
              })();
            `}})}),s.jsx("body",{style:{background:"var(--bg)",color:"var(--text)"},className:`${n().className} min-h-screen w-full transition-colors duration-300`,children:s.jsx(d,{children:e})})]})}},5023:()=>{}};