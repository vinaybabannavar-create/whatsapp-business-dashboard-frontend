(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{16359:function(t,e,n){Promise.resolve().then(n.bind(n,60378))},60378:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var a=n(3827),r=n(82670),s=n(47907),o=n(56288),c=n(32355),i=n(30880);function u(){let t=(0,s.useRouter)(),e=(0,i.t)(t=>t.setAuth),{register:n,handleSubmit:u,formState:{errors:l}}=(0,r.cI)(),d=async n=>{try{let a=await (0,c.Vu)({email:n.email,password:n.password});e(a.token,a.userId,a.name,a.email),o.Am.success("Logged in successfully"),t.push("/")}catch(t){o.Am.error("Invalid email or password")}};return(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,a.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-md w-full max-w-sm",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold mb-6 text-center",children:"Login"}),(0,a.jsxs)("form",{onSubmit:u(d),className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Email"}),(0,a.jsx)("input",{type:"email",...n("email",{required:"Email is required"}),className:"w-full mt-1 px-3 py-2 border rounded-md"}),l.email&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:l.email.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium",children:"Password"}),(0,a.jsx)("input",{type:"password",...n("password",{required:"Password is required"}),className:"w-full mt-1 px-3 py-2 border rounded-md"}),l.password&&(0,a.jsx)("p",{className:"text-red-500 text-xs mt-1",children:l.password.message})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-md hover:bg-blue-700",children:"Login"})]}),(0,a.jsx)("p",{className:"text-center text-sm text-gray-500 mt-4",children:"\xa9 WhatsApp Business Dashboard"})]})})}},32355:function(t,e,n){"use strict";n.d(e,{BJ:function(){return d},Bv:function(){return o},PZ:function(){return l},RH:function(){return w},Vu:function(){return r},a3:function(){return i},aO:function(){return c},e8:function(){return u},fn:function(){return m},ij:function(){return h},pq:function(){return s},u6:function(){return p},wR:function(){return f}});let a="https://whatsapp-business-dashboard.onrender.com/api";async function r(t){let e=await fetch("".concat(a,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error("Login failed");return e.json()}async function s(t,e){let n=await fetch("".concat(a,"/chats/").concat(t,"/messages/").concat(e,"/deleteForMe"),{method:"DELETE"});if(!n.ok)throw Error(await n.text());return n.json()}async function o(t,e){let n=await fetch("".concat(a,"/chats/").concat(t,"/messages/").concat(e,"/deleteForEveryone"),{method:"DELETE"});if(!n.ok)throw Error(await n.text());return n.json()}async function c(t){let e=await fetch("".concat(a,"/chats/").concat(t),{method:"DELETE"});if(!e.ok)throw Error(await e.text());return e.json()}async function i(){try{let t=await l(),e=new Set;return t.forEach(t=>{Array.isArray(t.tags)&&t.tags.forEach(t=>e.add(t))}),e.size?[...e]:["New","VIP","Lead","Returning"]}catch(t){return["New","VIP","Lead","Returning"]}}async function u(){let t=await fetch("".concat(a,"/templates"));if(!t.ok)throw Error(await t.text());return t.json()}async function l(){let t=await fetch("".concat(a,"/contacts"));if(!t.ok)throw Error(await t.text());return t.json()}async function d(t){let e=await fetch("".concat(a,"/chats/").concat(t,"/messages"));if(!e.ok)throw Error(await e.text());return e.json()}async function f(t,e){let n=await fetch("".concat(a,"/chats/").concat(t,"/messages"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:e,from:"business"})});if(!n.ok)throw Error(await n.text());return n.json()}async function h(t,e){let n=new FormData;n.append("phone",t),n.append("file",e);let r=await fetch("".concat(a,"/chats/upload-file"),{method:"POST",body:n});if(!r.ok)throw Error(await r.text());return r.json()}async function m(){let t=await fetch("".concat(a,"/campaigns"));if(!t.ok)throw Error(await t.text());return t.json()}async function w(t){let e=await fetch("".concat(a,"/campaigns"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error(await e.text());return e.json()}async function p(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Today",e=await fetch("".concat(a,"/analytics/dashboard?range=").concat(t));if(!e.ok)throw Error(await e.text());return e.json()}},30880:function(t,e,n){"use strict";n.d(e,{t:function(){return s}});var a=n(22020),r=n(65249);let s=(0,a.Ue)()((0,r.tJ)(t=>({token:null,userId:null,name:"User",email:"user@email.com",isAuthenticated:!0,setAuth:(e,n,a,r)=>t({token:e,userId:n,name:a,email:r,isAuthenticated:!0}),updateProfile:(e,n)=>t({name:e,email:n}),logout:()=>t({token:null,userId:null,name:null,email:null,isAuthenticated:!1})}),{name:"wa-auth"}))}},function(t){t.O(0,[381,288,884,971,69,744],function(){return t(t.s=16359)}),_N_E=t.O()}]);