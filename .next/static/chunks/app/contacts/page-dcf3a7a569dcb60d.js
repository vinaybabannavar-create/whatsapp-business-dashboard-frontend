(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[613],{65993:function(e,t,a){Promise.resolve().then(a.bind(a,37311))},57977:function(e,t,a){"use strict";a.d(t,{Z:function(){return u}});var r=a(64090);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let n=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),s=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,a)=>a?a.toUpperCase():t.toLowerCase()),o=e=>{let t=s(e);return t.charAt(0).toUpperCase()+t.slice(1)},l=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()},c=e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let d=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:d="",children:u,iconNode:h,...m}=e;return(0,r.createElement)("svg",{ref:t,...i,width:n,height:n,stroke:a,strokeWidth:o?24*Number(s)/Number(n):s,className:l("lucide",d),...!u&&!c(m)&&{"aria-hidden":"true"},...m},[...h.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(u)?u:[u]])}),u=(e,t)=>{let a=(0,r.forwardRef)((a,s)=>{let{className:c,...i}=a;return(0,r.createElement)(d,{ref:s,iconNode:t,className:l("lucide-".concat(n(o(e))),"lucide-".concat(e),c),...i})});return a.displayName=o(e),a}},67366:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(57977).Z)("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]])},37311:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return j}});var r=a(3827),n=a(575),s=a(57977);let o=(0,s.Z)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]]);var l=a(67366);let c=(0,s.Z)("notebook-pen",[["path",{d:"M13.4 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-7.4",key:"re6nr2"}],["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["path",{d:"M21.378 5.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"pqwjuv"}]]),i=(0,s.Z)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),d=(0,s.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var u=a(78714),h=a(58787),m=a(64090);let x=["VIP","Lead","Returning","New"];function f(e){let{isOpen:t,contact:a,onClose:n}=e,s=(0,u.s)(e=>e.editContact),[o,l]=(0,m.useState)(""),[c,i]=(0,m.useState)(""),[d,h]=(0,m.useState)([]);if((0,m.useEffect)(()=>{a&&(l(a.name),i(a.phone_number),h(a.tags||[]))},[a]),!t||!a)return null;let f=e=>{h(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e])};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-[999]",children:(0,r.jsxs)("div",{className:"bg-[var(--surface)] p-6 rounded-xl w-[330px] border border-[var(--border)] shadow-xl animate-fadeIn",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-[var(--text)] mb-4",children:"Edit Contact"}),(0,r.jsx)("label",{className:"text-xs text-[var(--text-muted)]",children:"Name"}),(0,r.jsx)("input",{className:"w-full p-2 mb-3 rounded border border-[var(--border)] bg-[var(--surface-alt)] text-[var(--text)]",value:o,onChange:e=>l(e.target.value)}),(0,r.jsx)("label",{className:"text-xs text-[var(--text-muted)]",children:"Phone Number"}),(0,r.jsx)("input",{className:"w-full p-2 mb-4 rounded border border-[var(--border)] bg-[var(--surface-alt)] text-[var(--text)]",value:c,onChange:e=>i(e.target.value)}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("p",{className:"text-xs text-[var(--text-muted)] mb-1",children:"Tags"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map(e=>(0,r.jsx)("button",{onClick:()=>f(e),className:"\n                  px-3 py-1 rounded-full text-xs font-semibold transition\n                  ".concat(d.includes(e)?"bg-gradient-to-r from-emerald-500 to-green-500 text-white":"bg-[var(--surface-alt)] border border-[var(--border)] text-[var(--text-muted)]","\n                "),children:e},e))})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,r.jsx)("button",{onClick:n,className:"px-4 py-2 rounded bg-gray-500 text-white hover:bg-gray-600 transition",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{if(!o.trim()||!c.trim()){alert("Name and phone are required.");return}s({...a,name:o.trim(),phone_number:c.trim(),tags:d}),n()},className:"px-4 py-2 rounded bg-gradient-to-r from-indigo-500 to-purple-500 text-white shadow-md hover:opacity-90 transition",children:"Save Changes"})]})]})})}function p(e){let{contact:t,onClose:a}=e,s=(0,u.s)(e=>e.deleteContact),x=(0,h.a)(e=>e.deleteChatByPhone),[p,b]=(0,m.useState)(!1),[g,v]=(0,m.useState)((null==t?void 0:t.notes)||"");if(!t)return null;let w=t.phone_number||"N/A",j=Array.isArray(t.tags)?t.tags:["N/A"],y=e=>"vip"===e.toLowerCase()?"bg-yellow-400 text-black":"lead"===e.toLowerCase()?"bg-blue-500 text-white":"returning"===e.toLowerCase()?"bg-purple-500 text-white":"bg-emerald-500 text-white";return(0,r.jsxs)("div",{className:"fixed inset-0 bg-black/10 backdrop-blur-sm z-[900] flex justify-end",children:[(0,r.jsxs)("div",{className:"w-80 h-full bg-[var(--surface)] shadow-2xl border-l border-[var(--border)] animate-slideLeft p-6 flex flex-col",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"font-semibold text-[var(--text)] text-sm",children:"Contact Details"}),(0,r.jsx)("button",{className:"text-[var(--text-muted)] hover:text-[var(--text)]",onClick:a,children:"✕"})]}),(0,r.jsxs)("div",{className:"relative mb-6",children:[(0,r.jsx)("div",{className:"h-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-xl"}),(0,r.jsx)("div",{className:"absolute -bottom-6 left-1/2 -translate-x-1/2",children:(0,r.jsx)("div",{className:"h-16 w-16 rounded-2xl bg-gradient-to-br from-purple-500 to-blue-600 flex items-center justify-center text-white text-2xl font-bold shadow-lg",children:(e=>{var t;if(!e)return"U";let a=e.trim().split(" ");return 1===a.length?null===(t=a[0][0])||void 0===t?void 0:t.toUpperCase():(a[0][0]+a[1][0]).toUpperCase()})(t.name)})})]}),(0,r.jsxs)("div",{className:"mt-8 text-center mb-4",children:[(0,r.jsx)("p",{className:"text-lg font-bold text-[var(--text)]",children:t.name}),(0,r.jsx)("p",{className:"text-xs text-[var(--text-muted)]",children:w})]}),(0,r.jsxs)("div",{className:"flex justify-center gap-4 mb-6",children:[(0,r.jsx)("button",{className:"p-2 rounded-xl bg-[var(--surface-alt)] hover:bg-[var(--surface)] shadow",children:(0,r.jsx)(o,{size:18,className:"text-green-500"})}),(0,r.jsx)("button",{className:"p-2 rounded-xl bg-[var(--surface-alt)] hover:bg-[var(--surface)] shadow",children:(0,r.jsx)(l.Z,{size:18,className:"text-blue-500"})}),(0,r.jsx)("button",{className:"p-2 rounded-xl bg-[var(--surface-alt)] hover:bg-[var(--surface)] shadow",children:(0,r.jsx)(c,{size:18,className:"text-emerald-500"})})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("p",{className:"uppercase text-[10px] font-semibold text-[var(--text-muted)]",children:"Tags"}),(0,r.jsx)("div",{className:"flex gap-2 mt-2 flex-wrap",children:j.map((e,t)=>(0,r.jsx)("span",{className:"px-3 py-1 rounded-full text-[10px] font-semibold ".concat(y(e)),children:e},t))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("p",{className:"uppercase text-[10px] font-semibold text-[var(--text-muted)]",children:"Created"}),(0,r.jsx)("p",{className:"mt-1 text-sm text-[var(--text)]",children:t.created_at})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("p",{className:"uppercase text-[10px] font-semibold text-[var(--text-muted)]",children:"Notes"}),(0,r.jsx)("textarea",{value:g,onChange:e=>v(e.target.value),className:"w-full mt-2 p-2 rounded-lg bg-[var(--surface-alt)] border border-[var(--border)] text-[var(--text)] resize-none h-20 focus:ring-1"})]}),(0,r.jsx)("div",{className:"border-t border-[var(--border)] my-4"}),(0,r.jsxs)("div",{className:"mt-auto flex flex-col gap-3",children:[(0,r.jsxs)(n.z,{className:"w-full bg-gradient-to-r from-indigo-500 to-purple-500 shadow-md hover:shadow-lg flex items-center gap-2",onClick:()=>b(!0),children:[(0,r.jsx)(i,{size:15})," Edit Contact"]}),(0,r.jsxs)("button",{className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg border border-red-500 text-red-500 font-semibold bg-white hover:bg-red-500 hover:text-white",onClick:async()=>{s(t.id),x(t.phone_number),await fetch("http://localhost:5000/api/chats/".concat(t.phone_number),{method:"DELETE"}),a()},children:[(0,r.jsx)(d,{size:16})," Delete Contact"]})]})]}),p&&(0,r.jsx)(f,{isOpen:p,contact:t,onClose:()=>b(!1)})]})}var b=a(32355),g=a(56288);function v(e){let{onSearch:t,onTagSelect:a}=e,[n,s]=(0,m.useState)([]),[o,l]=(0,m.useState)(!0),c=async()=>{try{let e=await (0,b.a3)();s(e)}catch(e){g.Am.error("Failed to load tags")}finally{l(!1)}};return(0,m.useEffect)(()=>{c()},[]),(0,r.jsxs)("div",{className:"flex gap-3 items-center mb-3",children:[(0,r.jsx)("input",{placeholder:"Search contacts...",className:" bg-[var(--surface)]/50  backdrop-blur-md p-2 text-sm border border-[var(--border)]/60  rounded-lg w-44 text-[var(--text)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-1 focus:ring-[var(--primary)] shadow-sm transition ",onChange:e=>t(e.target.value)}),(0,r.jsxs)("select",{className:" bg-[var(--surface)]/50  backdrop-blur-md p-2 text-sm  border border-[var(--border)]/60 rounded-lg text-[var(--text)] placeholder:text-[var(--text-muted)] focus:outline-none focus:ring-1 focus:ring-[var(--primary)] shadow-sm transition ",disabled:o,onChange:e=>a(e.target.value),children:[(0,r.jsx)("option",{value:"",children:"All tags"}),n.map(e=>(0,r.jsx)("option",{value:e,children:e},e))]})]})}function w(){let e=(0,u.s)(e=>e.contacts),t=(0,u.s)(e=>e.resetInvalidContacts),a=(0,u.s)(e=>e.deleteContact),[n,s]=(0,m.useState)([]),[o,l]=(0,m.useState)(null),c=e=>{if(!e||"string"!=typeof e)return"U";let t=e.trim().split(" ");return 1===t.length?t[0][0].toUpperCase():(t[0][0]+t[1][0]).toUpperCase()};(0,m.useEffect)(()=>{t()},[]),(0,m.useEffect)(()=>{s(e)},[e]);let h=e=>{switch(e.toLowerCase()){case"vip":return"bg-yellow-400 text-black";case"lead":return"bg-blue-500 text-white";case"returning":return"bg-purple-500 text-white";case"new":return"bg-emerald-500 text-white";default:return"bg-gray-400 text-white"}};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:" bg-[var(--surface)]/60 backdrop-blur-xl border border-[var(--border)] rounded-2xl p-5  shadow-xl text-[var(--text)] transition-all ",children:[(0,r.jsx)("h3",{className:"text-sm font-semibold mb-4",children:"Contacts"}),(0,r.jsx)(v,{onSearch:t=>{s(e.filter(e=>{var a;return null===(a=e.name)||void 0===a?void 0:a.toLowerCase().includes(t.toLowerCase())}))},onTagSelect:t=>{if(!t)return s(e);s(e.filter(e=>e.tags.includes(t)))}}),0===n.length&&(0,r.jsx)("p",{className:"text-xs text-[var(--text-muted)]",children:"No contacts found."}),n.length>0&&(0,r.jsx)("div",{className:"divide-y divide-[var(--border)]",children:n.map(e=>{var t;return(0,r.jsxs)("div",{className:" flex items-center justify-between px-3 py-3  rounded-xl cursor-pointer  hover:bg-[var(--surface-alt)] hover:shadow-md transition-all group ",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",onClick:()=>l(e),children:[(0,r.jsx)("div",{className:" h-11 w-11 rounded-xl  bg-gradient-to-br from-purple-500 to-blue-600  text-white flex items-center justify-center  font-semibold shadow-md ",children:c(e.name)}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-medium",children:e.name||"Unknown"}),(0,r.jsx)("p",{className:"text-xs text-[var(--text-muted)]",children:e.phone_number||"N/A"}),(0,r.jsx)("div",{className:"flex gap-1 mt-[2px]",children:null===(t=e.tags)||void 0===t?void 0:t.map((e,t)=>(0,r.jsx)("span",{className:"text-[10px] px-2 py-[1px] rounded-full font-semibold ".concat(h(e)),children:e},t))})]})]}),(0,r.jsxs)("div",{className:"flex flex-col items-end",children:[(0,r.jsx)("p",{className:"text-[10px] text-[var(--text-muted)]",children:e.created_at?new Date(e.created_at).toLocaleDateString():""}),(0,r.jsxs)("div",{className:"flex gap-2 opacity-0 group-hover:opacity-100 transition-all mt-1",children:[(0,r.jsx)("button",{onClick:()=>l(e),className:" p-1 rounded-md bg-blue-500 text-white  hover:bg-blue-600 transition text-[10px] ",children:(0,r.jsx)(i,{size:14})}),(0,r.jsx)("button",{onClick:()=>a(e.id),className:" p-1 rounded-md bg-red-500 text-white  hover:bg-red-600 transition text-[10px] ",children:(0,r.jsx)(d,{size:14})})]})]})]},e.id)})})]}),o&&(0,r.jsx)(p,{contact:o,onClose:()=>l(null)})]})}function j(){return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-[var(--text)]",children:"Contacts Management"}),(0,r.jsx)("p",{className:"text-xs text-[var(--text-muted)]",children:"View, search, and filter your WhatsApp Business contacts."}),(0,r.jsx)("div",{className:" bg-[var(--surface)]/60  backdrop-blur-xl  border border-[var(--border)]  rounded-xl  p-4  shadow-lg ",children:(0,r.jsx)(w,{})})]})}},575:function(e,t,a){"use strict";a.d(t,{z:function(){return c}});var r=a(3827),n=a(64090),s=a(22169);let o={primary:"bg-wa-primary text-white hover:bg-emerald-700 border border-wa-primary shadow-sm",outline:"border border-slate-700 text-slate-100 hover:bg-wa-surface hover:text-white",ghost:"text-slate-100 hover:bg-wa-surface hover:text-white border border-transparent"},l={sm:"h-8 px-3 text-sm",md:"h-9 px-4 text-sm"},c=n.forwardRef((e,t)=>{let{className:a="",variant:n="primary",size:c="md",...i}=e;return(0,r.jsx)("button",{ref:t,className:(0,s.cn)("inline-flex items-center justify-center rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-wa-accent focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",o[n],l[c],a),...i})});c.displayName="Button"},32355:function(e,t,a){"use strict";a.d(t,{BJ:function(){return u},Bv:function(){return o},PZ:function(){return d},RH:function(){return f},Vu:function(){return n},a3:function(){return c},aO:function(){return l},e8:function(){return i},fn:function(){return x},ij:function(){return m},pq:function(){return s},u6:function(){return p},wR:function(){return h}});let r="https://whatsapp-business-dashboard.onrender.com/api";async function n(e){let t=await fetch("".concat(r,"/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error("Login failed");return t.json()}async function s(e,t){let a=await fetch("".concat(r,"/chats/").concat(e,"/messages/").concat(t,"/deleteForMe"),{method:"DELETE"});if(!a.ok)throw Error(await a.text());return a.json()}async function o(e,t){let a=await fetch("".concat(r,"/chats/").concat(e,"/messages/").concat(t,"/deleteForEveryone"),{method:"DELETE"});if(!a.ok)throw Error(await a.text());return a.json()}async function l(e){let t=await fetch("".concat(r,"/chats/").concat(e),{method:"DELETE"});if(!t.ok)throw Error(await t.text());return t.json()}async function c(){try{let e=await d(),t=new Set;return e.forEach(e=>{Array.isArray(e.tags)&&e.tags.forEach(e=>t.add(e))}),t.size?[...t]:["New","VIP","Lead","Returning"]}catch(e){return["New","VIP","Lead","Returning"]}}async function i(){let e=await fetch("".concat(r,"/templates"));if(!e.ok)throw Error(await e.text());return e.json()}async function d(){let e=await fetch("".concat(r,"/contacts"));if(!e.ok)throw Error(await e.text());return e.json()}async function u(e){let t=await fetch("".concat(r,"/chats/").concat(e,"/messages"));if(!t.ok)throw Error(await t.text());return t.json()}async function h(e,t){let a=await fetch("".concat(r,"/chats/").concat(e,"/messages"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:t,from:"business"})});if(!a.ok)throw Error(await a.text());return a.json()}async function m(e,t){let a=new FormData;a.append("phone",e),a.append("file",t);let n=await fetch("".concat(r,"/chats/upload-file"),{method:"POST",body:a});if(!n.ok)throw Error(await n.text());return n.json()}async function x(){let e=await fetch("".concat(r,"/campaigns"));if(!e.ok)throw Error(await e.text());return e.json()}async function f(e){let t=await fetch("".concat(r,"/campaigns"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok)throw Error(await t.text());return t.json()}async function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Today",t=await fetch("".concat(r,"/analytics/dashboard?range=").concat(e));if(!t.ok)throw Error(await t.text());return t.json()}},22169:function(e,t,a){"use strict";function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}a.d(t,{cn:function(){return r}})},58787:function(e,t,a){"use strict";a.d(t,{a:function(){return s}});var r=a(22020),n=a(65249);let s=(0,r.Ue)()((0,n.tJ)((e,t)=>({selectedPhone:null,selectedName:null,chats:[{phone_number:"9876543210",name:"John Doe",last_message:"Hi, I want to know more!",last_time:"10:01 AM",unread:2},{phone_number:"9988776655",name:"Priya Sharma",last_message:"Thanks for the info!",last_time:"Yesterday",unread:0},{phone_number:"9123456780",name:"Rahul Kumar",last_message:"Sure, I’ll check.",last_time:"Monday",unread:1}],addChat:a=>{let r=t().chats;r.some(e=>e.phone_number===a.phone_number)||e({chats:[...r,a]})},setChats:t=>e({chats:t}),updateChatPreview:(t,a,r)=>e(e=>({chats:e.chats.map(n=>n.phone_number===t?{...n,last_message:a,last_time:r,unread:e.selectedPhone===t?0:n.unread+1}:n)})),updateChatName:(t,a)=>e(e=>({chats:e.chats.map(e=>e.phone_number===t?{...e,name:a}:e),selectedName:e.selectedPhone===t?a:e.selectedName})),markAsRead:t=>e(e=>({chats:e.chats.map(e=>e.phone_number===t?{...e,unread:0}:e)})),setSelectedChat:(t,a)=>{if(!t||""===t.trim()){console.error("❌ ERROR: setSelectedChat called with EMPTY phone");return}e({selectedPhone:t,selectedName:a||"Unknown"})},deleteChatByPhone:t=>e(e=>({chats:e.chats.filter(e=>e.phone_number!==t),selectedPhone:e.selectedPhone===t?null:e.selectedPhone,selectedName:e.selectedPhone===t?null:e.selectedName})),clearChat:()=>e({selectedPhone:null,selectedName:null})}),{name:"wa-chats"}))},78714:function(e,t,a){"use strict";a.d(t,{s:function(){return s}});var r=a(22020),n=a(65249);let s=(0,r.Ue)()((0,n.tJ)((e,t)=>({contacts:[{id:"1",name:"John Doe",phone_number:"9876543210",tags:["VIP"],created_at:"2024-01-02"},{id:"2",name:"Priya Sharma",phone_number:"9988776655",tags:["Lead"],created_at:"2024-02-10"},{id:"3",name:"Rahul Kumar",phone_number:"9123456780",tags:["New"],created_at:"2024-03-18"}],addContact:(a,r)=>{let n=a.trim(),s=r.trim();if(!n||!s)return;if(t().contacts.some(e=>e.phone_number===s)){console.warn("Duplicate phone blocked:",s);return}let o={id:Date.now().toString(),name:n,phone_number:s,tags:["New"],created_at:new Date().toISOString().split("T")[0]};e({contacts:[...t().contacts,o]})},deleteContact:a=>e({contacts:t().contacts.filter(e=>e.id!==a)}),editContact:a=>e({contacts:t().contacts.map(e=>e.id===a.id?a:e)}),updateTags:(a,r)=>e({contacts:t().contacts.map(e=>e.id===a?{...e,tags:r}:e)}),resetInvalidContacts:()=>{e({contacts:t().contacts.filter(e=>"object"==typeof e&&"string"==typeof e.id&&"string"==typeof e.name&&"string"==typeof e.phone_number&&Array.isArray(e.tags))})},clearAll:()=>e({contacts:[]})}),{name:"wa-contacts",version:2}))}},function(e){e.O(0,[381,288,971,69,744],function(){return e(e.s=65993)}),_N_E=e.O()}]);